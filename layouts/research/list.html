{{ define "main" }}
<main class="main">
  <article class="post-single">
    <!-- Big page title (aligned like other pages) -->
    <header class="post-header">
      <h1 class="page-title">{{ .Title }}</h1>
    </header>

    <!-- Research items (no duplicate subheading) -->
    {{ with .Params.research }}
      <div class="res-stack">
        {{ range . }}
          <div class="res-item">
            <h3 class="res-title">{{ index . "title" }}</h3>
            {{ with (index . "summary") }}
              <div class="res-summary">{{ . | markdownify }}</div>
            {{ end }}
          </div>
        {{ end }}
      </div>
    {{ end }}

    <!-- Student Projects as a section heading -->
    {{ with .Params.student_projects }}
      <h2 class="section-title">Student Projects</h2>
      <div class="res-stack">
        {{ range . }}
          <div class="res-item">
            <h3 class="res-title">{{ index . "title" }}</h3>
            {{ with (index . "summary") }}
              <div class="res-summary">{{ . | markdownify }}</div>
            {{ end }}
          </div>
        {{ end }}
      </div>
    {{ end }}
  </article>
</main>

<style>
/* Page & section headings */
.page-title{
  margin: .2rem 0 1.1rem 0;
  font-size: clamp(1.9rem, 2.2vw, 2.4rem);
  font-weight: 700;
}
.section-title{
  margin: 2rem 0 .75rem 0;
  padding-top: .5rem;
  border-top: 1px solid var(--border);
  font-size: clamp(1.15rem, 1.3vw, 1.35rem);
  letter-spacing: .2px;
  font-weight: 650;
}

/* Vertical list blocks */
.res-stack{ display:flex; flex-direction:column; gap:1rem }
.res-item{ border:1px solid var(--border); border-radius:12px; padding:1rem }
.res-title{ margin:0 0 .3rem 0; font-weight:600; font-size:1.05rem }
.res-summary{ font-size:.95rem; line-height:1.5 }
</style>
{{ end }}

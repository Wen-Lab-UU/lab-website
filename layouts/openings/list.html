{{ define "main" }}
<main class="main">
  <article class="post-single">
    <header class="post-header">
      <h1 class="page-title">{{ .Title }}</h1>
    </header>

    {{ with .Params.intro }}
      <p class="intro">{{ . | markdownify }}</p>
    {{ end }}

    {{ with .Params.opportunities }}
      <ul class="opp-list">
        {{ range . }}
          <li class="opp-item">
            <div class="opp-title">
              {{ if and (isset . "url") .url }}
                <a href="{{ .url }}" target="_blank" rel="noopener">{{ .title }}</a>
              {{ else }}
                {{ .title }}
              {{ end }}
            </div>
            {{ with .description }}
              <div class="opp-desc">{{ . }}</div>
            {{ end }}
          </li>
        {{ end }}
      </ul>
    {{ end }}

    {{ with .Params.contact }}
      <div class="contact-card">
        <div class="contact-title">Contact</div>
        <div class="contact-line">
          {{ with .name }}<span>{{ . }}</span>{{ end }}
          {{ if and .name .email }} Â· {{ end }}
          {{ with .email }}<a href="mailto:{{ . }}">{{ . }}</a>{{ end }}
        </div>
        {{ with .note }}<div class="contact-note">{{ . | markdownify }}</div>{{ end }}
      </div>
    {{ end }}
  </article>
</main>

<style>
.page-title{
  margin: .2rem 0 1.1rem 0;
  font-size: clamp(1.9rem, 2.2vw, 2.4rem);
  font-weight: 700;
}

.intro{ font-size: .98rem; line-height: 1.55; opacity: .95; }

.opp-list{ list-style: none; margin: 1rem 0 0 0; padding: 0; }
.opp-item{
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: .9rem 1rem;
  margin: .6rem 0;
}
.opp-title{
  font-weight: 600;
  line-height: 1.35;
  margin-bottom: .2rem;
}
.opp-title a{ text-decoration: none; }
.opp-desc{ font-size: .95rem; line-height: 1.45; opacity: .95; }

.contact-card{
  margin-top: 1.5rem;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 1rem;
  background: transparent;
}
.contact-title{
  font-weight: 650;
  margin: 0 0 .35rem 0;
  letter-spacing: .2px;
}
.contact-line{ font-size: .95rem; margin-bottom: .35rem; }
.contact-note{ font-size: .92rem; line-height: 1.45; opacity: .95; }
</style>
{{ end }}
